<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: attr.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: attr.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>module.exports = Attr

var _ = require('lodash')

/**
 * manipulate data attributes of a component
 * @class
 * @param {Cheerio} $node
 */
function Attr ($node) {
  this.$node = $node
}

Attr.ATTR_NAMES_TO_DATA_NAMES = {
  name: 'data-component-name',
  primary: 'data-component-primary',
  imports: 'data-component-imports',
  wrapper: 'data-component-wrapper'
  // listItem: 'data-component-list-item',
  // listProp: 'data-component-list-prop',
  // value: 'data-component-value',
  // action: 'data-component-action',
}
Attr.DATA_NAMES_TO_ATTR_NAMES = _.invert(Attr.ATTR_NAMES_TO_DATA_NAMES)
Attr.DATA_NAMES = _.keys(Attr.DATA_NAMES_TO_ATTR_NAMES)

Attr.prototype.extract = function () {
  var $node = this.$node

  // get all attributes
  var attributes = Attr.DATA_NAMES.reduce(function (attrs, dataName) {
    var dataValue = _.trim($node.attr(dataName))
    if (dataValue) {
      attrs[Attr.DATA_NAMES_TO_ATTR_NAMES[dataName]] = dataValue
    }

    return attrs
  }, {})

  // remove all attributes from the $node
  Attr.DATA_NAMES.forEach(function (dataName) {
    $node.removeAttr(dataName)
  })

  return attributes
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Attr.html">Attr</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addDeclaration">addDeclaration</a></li><li><a href="global.html#addImportAndExport">addImportAndExport</a></li><li><a href="global.html#formatFileSnippet">formatFileSnippet</a></li><li><a href="global.html#htmlSnippetToJsxSnippet">htmlSnippetToJsxSnippet</a></li><li><a href="global.html#htmlToHtmlSnippets">htmlToHtmlSnippets</a></li><li><a href="global.html#htmlToReact">htmlToReact</a></li><li><a href="global.html#reacterminator">reacterminator</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Mar 28 2016 16:46:24 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
